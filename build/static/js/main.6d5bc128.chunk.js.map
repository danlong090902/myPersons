{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["axios","get","newObject","post","Filter","filterName","filerChangeHandle","value","onChange","PersonForm","addSubmitHandle","newName","nameChangeHandle","newNumber","numberChangeHandle","onSubmit","type","Persons","persons","map","e","name","includes","key","number","App","useState","setPersons","setNewName","setNewNumber","setFilterName","errorText","setErrorText","useEffect","personsServices","then","response","data","target","event","preventDefault","res","message","console","log","concat","ReactDOM","render","document","getElementById"],"mappings":"2NAiBe,EAZA,WACb,OAAOA,IAAMC,IALC,iBAgBD,EARA,SAAAC,GACb,OAAOF,IAAMG,KATC,eASaD,ICAdE,EARA,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,WAAYC,EAAwB,EAAxBA,kBAC5B,OACE,6BACE,2BAAOC,MAAOF,EAAYG,SAAUF,MCW3BG,EAdI,SAAC,GAAmF,IAAjFC,EAAgF,EAAhFA,gBAAiBC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,iBAAkBC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBAC3E,OACE,0BAAMC,SAAUL,GACd,sCACQ,2BAAOH,MAAOI,EAASH,SAAUI,KAEzC,wCAAa,2BAAOL,MAAOM,EAAWL,SAAUM,KAChD,6BACE,4BAAQE,KAAK,UAAb,UCKOC,EAbC,SAAC,GAA6B,IAA3BZ,EAA0B,EAA1BA,WAAYa,EAAc,EAAdA,QAC7B,OACE,6BACGA,EAAQC,KAAI,SAAAC,GACX,OAAIA,EAAEC,KAAKC,SAASjB,GACX,yBAAKkB,IAAKH,EAAEC,MAAOD,EAAEC,KAArB,IAA4BD,EAAEI,QAEhC,QCoEAC,EAxEH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTR,EADS,KACAS,EADA,OAEcD,mBAAS,IAFvB,mBAETf,EAFS,KAEAiB,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTb,EAHS,KAGEgB,EAHF,OAIoBH,mBAAS,IAJ7B,mBAITrB,EAJS,KAIGyB,EAJH,OAKkBJ,mBAAS,IAL3B,mBAKTK,EALS,KAKEC,EALF,KAOhBC,qBAAU,WACRC,IAAyBC,MAAK,SAAAC,GAC5BT,EAAWS,EAASC,WAErB,IAyCH,OACE,6BACE,yCACCN,GAAa,4BAAKA,GACnB,kBAAC,EAAD,CAAQ1B,WAAYA,EAAYC,kBAPV,SAACc,GACzBU,EAAcV,EAAEkB,OAAO/B,UAOrB,yCACA,kBAAC,EAAD,CACEG,gBArCkB,SAAA6B,GACtBA,EAAMC,iBAWNN,EAJkB,CAChBb,KAAMV,EACNa,OAAQX,IAGPsB,MAAK,SAAAM,GACAA,EAAIJ,KAAKK,SACXC,QAAQC,IAAIH,EAAIJ,KAAKK,SACrBV,EAAaS,EAAIJ,KAAKK,UAEtBf,EAAWT,EAAQ2B,OAAOJ,EAAIJ,UAMpCT,EAAW,IACXC,EAAa,KAaTlB,QAASA,EACTE,UAAWA,EACXD,iBAhDmB,SAACQ,GACxBQ,EAAWR,EAAEkB,OAAO/B,QAgDhBO,mBA7CqB,SAACM,GAC1BS,EAAaT,EAAEkB,OAAO/B,UA8CpB,uCACA,kBAAC,EAAD,CAASF,WAAYA,EAAYa,QAASA,M,MClEhD4B,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.6d5bc128.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n// const baseUrl = 'http://localhost:3001/api/notes'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\n// const update = (newObject) => {\r\n//   return axios.put(`${baseUrl}`, newObject)\r\n// }\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  // update: update\r\n}","import React from 'react'\r\n\r\nconst Filter = ({ filterName, filerChangeHandle }) => {\r\n  return (\r\n    <div>\r\n      <input value={filterName} onChange={filerChangeHandle} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ addSubmitHandle, newName, nameChangeHandle, newNumber, numberChangeHandle }) => {\r\n  return (\r\n    <form onSubmit={addSubmitHandle}>\r\n      <div>\r\n        name: <input value={newName} onChange={nameChangeHandle} />\r\n      </div>\r\n      <div>number: <input value={newNumber} onChange={numberChangeHandle} /></div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ filterName, persons }) => {\r\n  return (\r\n    <div>\r\n      {persons.map(e => {\r\n        if (e.name.includes(filterName)) {\r\n          return <div key={e.name}>{e.name} {e.number}</div>\r\n        }\r\n        return ''\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React, { useState, useEffect } from 'react'\r\nimport personsServices from './services/persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filterName, setFilterName] = useState('')\r\n  const [errorText, setErrorText] = useState('')\r\n\r\n  useEffect(() => {\r\n    personsServices.getAll().then(response => {\r\n      setPersons(response.data)\r\n    })\r\n  }, [])\r\n\r\n\r\n  const nameChangeHandle = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const numberChangeHandle = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const addSubmitHandle = event => {\r\n    event.preventDefault();\r\n    // const isReapt = persons.some((element, index, array) => {\r\n    //   return element.name === newName\r\n    // })\r\n    // if (isReapt) {\r\n    //   alert(`${newName} is already add to phonebook`)\r\n    // } else {\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    personsServices.create(newPerson)\r\n      .then(res => {\r\n        if (res.data.message) {\r\n          console.log(res.data.message)\r\n          setErrorText(res.data.message)\r\n        } else {\r\n          setPersons(persons.concat(res.data))\r\n\r\n        }\r\n      })\r\n    // }\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n  const filerChangeHandle = (e) => {\r\n    setFilterName(e.target.value)\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      {errorText && <h5>{errorText}</h5>}\r\n      <Filter filterName={filterName} filerChangeHandle={filerChangeHandle} />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        addSubmitHandle={addSubmitHandle}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        nameChangeHandle={nameChangeHandle}\r\n        numberChangeHandle={numberChangeHandle}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons filterName={filterName} persons={persons} />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}